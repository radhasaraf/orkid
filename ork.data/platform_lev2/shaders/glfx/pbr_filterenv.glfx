///////////////////////////////////////////////////////////////
// FxConfigs
///////////////////////////////////////////////////////////////
fxconfig fxcfg_default
{
	glsl_version = "130";
}
///////////////////////////////////////////////////////////////
// Interfaces
///////////////////////////////////////////////////////////////
uniform_set ub_vtx {
	mat4        mv;
	mat4        mvp;
	vec2 InvViewportSize; // inverse target size
}
///////////////////////////////////////////////////////////////
uniform_set ub_frg {
    sampler2D prefiltmap;
		vec2 InvViewportSize; // inverse target size
}
///////////////////////////////////////////////////////////////
// StateBlocks
///////////////////////////////////////////////////////////////
state_block sb_default : default {
}
///////////////////////////////////////////////////////////////
// shaders
///////////////////////////////////////////////////////////////
vertex_interface iface_vyo
	: ub_vtx {
    inputs {
	    vec4 position : POSITION;
	    vec2 uv0 : TEXCOORD0;
 	  }
    outputs {
      vec4 frg_clr;
	    vec2 frg_uv0;
	  }
}
///////////////////////////////////////////////////////////////
vertex_shader vs_yo
	: iface_vyo {
	gl_Position = mvp*position;
	frg_clr = vec4(1.0,1.0,1.0,1.0);
	frg_uv0 = uv0*vec2(1,-1);
}
///////////////////////////////////////////////////////////////
fragment_interface iface_fyo
	: ub_frg
{
  inputs {
    vec4 frg_clr;
	  vec2 frg_uv0;
	}
	outputs {
    layout(location = 0) vec4 out_clr;
	}
}
///////////////////////////////////////////////////////////////
fragment_shader ps_yo
	: iface_fyo {
	out_clr = texture(prefiltmap,frg_uv0);
}
///////////////////////////////////////////////////////////////
technique tek_yo {
	fxconfig=fxcfg_default;
	pass p0 {
		vertex_shader=vs_yo;
		fragment_shader=ps_yo;
		state_block=sb_default;
	}
}
///////////////////////////////////////////////////////////////
