////////////////////////////////////////////////////////////////
// Orkid Media Engine
// Copyright 1996-2022, Michael T. Mayers.
// Distributed under the Boost Software License - Version 1.0 - August 17, 2003
// see http://www.boost.org/LICENSE_1_0.txt
////////////////////////////////////////////////////////////////

#pragma once

#include "component.h"

///////////////////////////////////////////////////////////////////////////////
namespace ork::ecs {
///////////////////////////////////////////////////////////////////////////////

template <typename T> void RegisterFamily(PoolString family) {
  auto clazz = T::GetClassStatic();
  if (auto as_cdc = dynamic_cast<ComponentDataClass*>(clazz)) {
    as_cdc->SetFamily(family);
  } else if (auto as_sdc = dynamic_cast<SystemDataClass*>(clazz)) {
    as_sdc->SetFamily(family);
  } else {
    assert(false);
  }
}

///////////////////////////////////////////////////////////////////////////////
} //namespace ork::ecs {
///////////////////////////////////////////////////////////////////////////////
