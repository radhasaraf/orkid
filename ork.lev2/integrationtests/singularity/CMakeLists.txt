cmake_minimum_required (VERSION 3.13.4)
set( CMAKE_MODULE_PATH $ENV{ORKID_WORKSPACE_DIR} )
include(orkid)
enableQt5()
project (ork.lev2.test.aud.singularity CXX)

include_directories(AFTER ${CMAKE_INSTALL_PREFIX}/include)
include_directories(AFTER ${ORKROOT}/ork.core/inc )
include_directories(AFTER ${ORKROOT}/ork.lev2/inc )
include_directories(AFTER ${SRCD} )
include_directories(AFTER $ENV{QTDIR}/include)

function(setupEXE target sources)
  add_executable (${target} harness.cpp ${sources} )
  target_link_libraries(${target} LINK_PRIVATE ork_core ork_lev2 boost_program_options )
  set_target_properties(${target} PROPERTIES LINKER_LANGUAGE CXX)
  install(TARGETS ${target} DESTINATION $ENV{OBT_STAGE}/bin )
endfunction()

setupEXE(ork.lev2.test.aud.singularity.krzrom.exe main_krzrom.cpp )
setupEXE(ork.lev2.test.aud.singularity.cz1.bank.exe main_cz1_bank.cpp )
setupEXE(ork.lev2.test.aud.singularity.cz1.dco.exe main_cz1_dco.cpp)
setupEXE(ork.lev2.test.aud.singularity.cz1.dco.noisemod.exe main_cz1_dco_noisemod.cpp)
setupEXE(ork.lev2.test.aud.singularity.cz1.dco.playedit.exe main_cz1_playedit.cpp)
setupEXE(ork.lev2.test.aud.singularity.cz1.envelope.exe main_cz1_envelope.cpp)
